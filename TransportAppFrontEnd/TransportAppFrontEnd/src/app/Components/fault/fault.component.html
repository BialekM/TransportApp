<div class="container">
  <div id="loginBox" class="mainbox" >
  <div class="col-sm-6 col-md-4 col-md-offset-4">
      <form #AddFaultForm="ngForm" (ngSubmit)="onSubmit(AddFaultForm)" class="form-horizontal" role="form" novalidate >
          <div class="text-center"><H2><label>Naprawa</label></H2></div>
          <label>Opis</label>
          <div class="input-group">
            <textarea class="form-control" rows="3" placeholder="Dodaj opis usterki" name="faultInformation" ngModel #faultInformation="ngModel"required ref-textarea 
            [(ngModel)]="fault.faultInformation">{{fault.faultInformation}}</textarea>
            <div *ngIf=" (faultInformation.touched && IsEmptyParam(fault.faultInformation)) || !((faultInformation.valid) || (faultInformation.pristine))" class="alert alert-danger">
             Opis jest wymagany
            </div>
          </div>
        
          <label>Priorytet</label>
          <select class="form-control" name="priority" ngModel #priority="ngModel" required [(ngModel)]="priority_">
            <option value="Hight">Wysoki</option>
            <option value="Medium">Średni</option>
            <option value="Low">Niski</option>
          </select>
          <div *ngIf=" (priority.touched && IsEmptyParam(priority_)) || !((priority.valid) || (priority.pristine))" class="alert alert-danger">
            Priorytet jest wymagany
          </div>
          
        <div class="input-group">
            <label>Zatwierdzone przez Mechanika</label>
            <p><input type="checkbox" class="form-control" name="mechanicDone" [(ngModel)]="fault.mechanicDone"></p>
          </div>

        <div class="input-group">
          <label>Zatwierdzone przez właściciela</label>
          <p><input type="checkbox" class="form-control" name="confirmDone" [(ngModel)]="fault.confirmDone"></p>
        </div>

        <div class="form-group">
          <button valid type="submit" class="btn btn-primary center-block" (click)="ButtonClicked()">  <b> Zatwierdź i wyślij</b> </button>
        </div>
        <div *ngIf="AddFaultForm.invalid && buttonClicked" class="alert alert-danger">
          Nie wypełniono wszystkich pól
        </div>
        <div *ngIf="status=='Failed'" class="alert alert-danger">
          {{this.message}}
        </div>
        <div *ngIf="status=='ok'" class="alert alert-success">
            {{this.message}}
        </div>  
    </form>     
  </div>                     
  </div>  
</div>